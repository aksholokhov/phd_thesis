% bold (vector)
\newcommand{\bd}[1]{\boldsymbol{#1}}

% derivatives
\newcommand{\dderiv}[2]{\frac{\mathrm{d}}{\mathrm{d}#2} (#1)}
\newcommand{\ddt}{\frac{\mathrm{d}}{\mathrm{d}t}}

% partial derivatives
\newcommand{\pderiv}[2]{\frac{\partial #1}{\partial #2}}
\newcommand*{\pd}[3][]{\ensuremath{\frac{\partial^{#1} #2}{\partial #3}}}

% Integral dx
\newcommand{\dx}{\mathrm{d}x}

% Evaluation operator
\newcommand*{\at}[2]{\Big|_{#1}^{#2}}

% Probability macros
% Variance
\newcommand{\Var}{\mathrm{Var}}
% Covariance
\newcommand{\Cov}{\mathrm{Cov}}
% Bias
\newcommand{\Bias}{\mathrm{Bias}}
% Probability
\newcommand*{\prob}[1]{\ensuremath{\mathbb{P}\left[#1\right]}}
\newcommand*{\expectation}[1]{\ensuremath{\mathbb{E}\left[#1\right]}}
\newcommand*{\variance}[1]{\ensuremath{\mathbb{V}\left[#1\right]}}
% Indicator function of an event
\newcommand*{\ind}[1]{\ensuremath{\mathds{I}_{\left[#1\right]}}}

% Optimization macros
\DeclareMathOperator{\dom}{\mathrm{dom}}
\newcommand{\Diag}[1]{\mathrm{Diag}\left(#1\right)}
\newcommand{\diag}[1]{\mathrm{diag}\left(#1\right)}
\def\prox{{\mathrm{prox}}}
\DeclareMathOperator*{\proj}{\mathrm{Proj}}
\DeclareMathOperator*{\sign}{\mathrm{sign}}
\DeclareMathOperator*{\argmax}{\mathrm{argmax}}
\DeclareMathOperator*{\argmin}{\mathrm{argmin}}

\newcommand*{\pdef}{\ensuremath{\mathbb{S}_{++}}}
\newcommand*{\psdef}{\ensuremath{\mathbb{S}_{+}}}

%% \mathbb symbols
\DeclareMathOperator{\E}{\mathbb{E}}
\DeclareMathOperator{\A}{\mathbb{A}}
\DeclareMathOperator{\B}{\mathbb{B}}
\DeclareMathOperator{\R}{\mathbb{R}}
\DeclareMathOperator{\C}{\mathbb{C}}
\DeclareMathOperator{\X}{\mathbb{X}}
\DeclareMathOperator{\N}{\mathbb{N}}
\DeclareMathOperator{\Q}{\mathbb{Q}}
\DeclareMathOperator{\V}{\mathbb{V}}
\DeclareMathOperator{\bS}{\mathbb{S}}

%% \mathcal symbols
\DeclareMathOperator{\RR}{\mathcal{R}}
\DeclareMathOperator{\ZZ}{\mathcal{Z}}
\DeclareMathOperator{\PP}{\mathcal{P}}
\DeclareMathOperator{\NN}{\mathcal{N}}
\def\CC{\mathcal{C}}
\DeclareMathOperator{\FF}{\mathcal{F}}
\DeclareMathOperator{\YY}{\mathcal{Y}}
\DeclareMathOperator{\XX}{\mathcal{X}}
\DeclareMathOperator{\LL}{\mathcal{L}}
\DeclareMathOperator{\wLL}{\widehat\LL}
\DeclareMathOperator{\OO}{\mathcal{O}}
\DeclareMathOperator{\II}{\mathcal{I}}
\def\TT{\mathcal{T}}
\def\hTT{{\widehat\TT}}
\def\SS{\mathcal{S}}
\def\hSS{{\widehat\SS}}
\DeclareMathOperator{\DD}{\mathcal{D}}
\DeclareMathOperator{\BB}{\mathcal{B}}
\def\MM{\mathcal{M}}
%\def\S{\mathcal{S}}

%% \tilde symbols
\newcommand{\tbeta}{\tilde\beta}
\newcommand{\tgamma}{\tilde\gamma}
\newcommand{\tu}{\tilde{u}}
\newcommand{\tr}{\tilde{r}}

%% \hat symbols
\newcommand{\hbeta}{\hat{\beta}}
\newcommand{\hgamma}{\hat{\gamma}}
\newcommand{\hxi}{\hat{\xi}}
\def\hy{\hat y}
\def\hX{\widehat X}

%% \bar symbols
\newcommand{\bmu}{\bar{\mu}}
\newcommand{\bgam}{\bar{\gamma}}


% limit arrow "goes to"
\newcommand{\goto}{\rightarrow}
%\newcommand{\gotowith}[2]{\xrightarrow[#2]{#1}}

% text above math symbol
%\newcommand{\textabove}[2]{\mathrel{\overset{\makebox[0pt]{\mbox{\normalfont\tiny #1}}}{#2}}}

% Big O
\newcommand{\bigo}{{\mathcal O}}

% 1/2
\newcommand{\half}{\frac{1}{2}}
% 1/2
\newcommand{\halfof}[1]{\frac{#1}{2}}

% Real numbers
\newcommand\reals{{{\rm l} \kern -.15em {\rm R} }}

% Complex numbers
\newcommand\complex{{\raisebox{.043ex}{\rule{0.07em}{1.56ex}} \hskip -.35em {\rm C}}}

% Matrix functions
\DeclareMathOperator{\trace}{Tr}

% Epigraphs
\DeclareMathOperator{\epi}{epi}

% matrix environment for vectors or matrices where elements are centered
\newenvironment{mat}{\left[\begin{array}{ccccccccccccccc}}{\end{array}\right]}
\newcommand\bcm{\begin{mat}}
\newcommand\ecm{\end{mat}}

% matrix environment for vectors or matrices where elements are right justified
\newenvironment{rmat}{\left[\begin{array}{rrrrrrrrrrrrr}}{\end{array}\right]}
\newcommand\brm{\begin{rmat}}
\newcommand\erm{\end{rmat}}

% for left brace and a set of choices
\newenvironment{choices}{\left\{ \begin{array}{ll}}{\end{array}\right.}
\newcommand\when{&\text{if~}}
\newcommand\otherwise{&\text{otherwise}}
% sample usage:
%  \delta_{ij} = \begin{choices} 1 \when i=j, \\ 0 \otherwise \end{choices}

% For equations: first argument is a label, second is the equation 
\newcommand{\eql}[2]{\begin{equation}\label{eq:#1}\begin{split}#2\end{split}\end{equation}}
% Or just the equation 
\newcommand{\eq}[1]{\begin{equation}\begin{split}#1\end{split}\end{equation}}

% some useful macros for finite difference methods:
\newcommand\unp{U^{n+1}}
\newcommand\unm{U^{n-1}}
\newcommand\un{U^{n}}

% paired parenthesis
\DeclarePairedDelimiter\pa{(}{)}%
%\DeclarePairedDelimiter\bra{[}{]}%
%\DeclarePairedDelimiter\curly{\{}{\}}%
%\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
%\DeclarePairedDelimiter\norm{\lVert}{\rVert}%
%\DeclarePairedDelimiter\floor{\lfloor}{\rfloor}%
%\DeclarePairedDelimiter\ceil{\lceil}{\rceil}%

% Theorems and co. environments setup
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{assumption}{Assumption}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{remark}{Remark}

% colorful box (for putting around equality signs etc)
%\newtcbox{\mywboxtext}[1]{on line,colback=white,colframe=#1,size=fbox,arc=3pt,boxrule=0.8pt}
%\newcommand{\boxaround}[2]{\mywboxtext{#2}{$#1$}}

% A few things for Jim
\def\bW{{\mathbb{W}}}
\def\Rn{{\R^n}}
\def\eR{{\overline\R}}
\def\Rp{{\R^p}}
\def\Rq{{\R^q}}
\def\Rm{{\R^m}}
\def\hf{{\hat f}}
\def\hy{{\hat y}}
\def\hr{{\hat r}}
\def\hR{{\widehat R}}
\def\hs{{\hat s}}
\def\bv{{\bar v}}
\def\tx{{\tilde x}}
\def\ty{{\tilde y}}
\def\tw{{\tilde w}}
\def\br{{\bar r}}
\def\bu{{\bar u}}
\def\hZ{{\widehat Z}}
\def\tK{{\widetilde K}}
\def\wG{{\widehat G}}
\def\one{\mathbf{1}}
\def\zero{\mathbf{0}}
\def\lam{\lambda}
\def\blam{{\bar\lambda}}
\def\lamb{\lambda_b}
\def\lamg{\lambda_g}
\def\Lam{\Lambda}
\def\alf{\alpha}
\def\talf{{\tilde\alpha}}
\def\tkappa{{\tilde\kappa}}
\def\balf{{\bar\alpha}}
\def\bgam{{\bar\gamma}}
\def\bbeta{{\bar\beta}}
\def\bbeta{{\bar\beta}}
\def\bxi{{\bar\xi}}
\def\bw{{\bar w}}
\def\hw{{\hat w}}
\def\bx{{\bar x}}
\def\by{{\bar y}}
\def\bz{{\bar z}}
\def\bv{{\bar v}}
\def\hv{{\hat v}}
\def\hx{{\hat x}}
\def\he{{\hat{\mathrm{e}}}}
\def\hp{{\hat{\mathrm{p}}}}
\def\tv{{\tilde v}}
\def\gam{\gamma}
\def\hgam{{\hat\gam}}
\def\tgam{{\tilde\gam}}
\def\bgam{{\bar\gam}}
\def\Gam{\Gamma}
\def\bOmega{{\overline\Omega}}
\def\del{\delta}
\def\Del{\Delta}
\def\eps{\epsilon}
\newcommand{\lDel}{\mbox{\small$\Del$}}
\def\Sig{\Sigma}
\def\sig{\sigma}
\def\BB{{\mathcal{B}}}
\def\GG{{\mathcal{G}}}
\def\hGG{{\widehat\GG}}
\def\VV{{\mathcal{V}}}
\def\RR{{\mathcal{R}}}
\def\hRR{{\widehat\RR}}
\def\tLL{{\widetilde\LL}}
\def\hLL{{\widehat\LL_\mu}}
\def\hDD{{\widehat\DD}}
\def\LLlam{{\LL_\lam}}
\def\hOmega{{\widehat\Omega}}
\def\mmax{\text{max}}
\def\mmin{\text{min}}
\newcommand\map[3]{#1:#2\rightarrow #3}
\def\Ran{\mathrm{Ran}\,}
\newcommand{\rset}[2]{\left\{#1\,\left|\,#2\right\}\right.}
\newcommand{\lset}[2]{\left\{#1\,\left|\,#2\right.\right\}}
\newcommand{\norm}[1]{\left\Vert #1\right\Vert}
\newcommand{\im}[1]{{\mathrm{Im}\left(#1\right)}}
\newcommand{\lev}[2]{{\mathrm{lev}_{#1}(#2)}}
\newcommand{\ip}[2]{\left\langle #1,\, #2\right\rangle}

\def\bgk{(\beta^k,\gam^k)}
\def\tbgk{(\tbeta^k,\tgam^k)}
\def\bg{(\beta,\gam)}
\def\tbg{(\tbeta,\tgam)}
\def\bbg{(\bar\beta,\bar\gam)}
\def\hbg{(\hat\beta,\hat\gam)}
\def\emu{{\eta,\mu}}
\def\phimu{\phi_\mu}
\def\umu{u_\mu}
\def\uemu{{u_{\eta,\mu}}}
\def\keta{\kappa_\eta}
\def\Rqp{\R^q_+}
\def\vphi{\varphi}
\def\vmu{v_\mu}
\def\xmu{x_\mu}
